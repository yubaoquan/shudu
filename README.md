# shudu
解数独问题的webapp

### 术语说明
 - `九宫格`: 数独的整个面板被分成九个3x3的区域, 每个区域叫做一个九宫格;
 - `集合`: 一行/一列/一个九宫格
 - `N元值`: 一个集合中, N个小格都含有且是同样的N个值, 例如某行中两个小格的都含有两个值且都为 [1, 2], 则[1, 2]为二元值, 该行其他小格中不能有1或2; 再如 当前列中有三个小格都含有[3, 6, 9], 则[3, 6, 9]是当前列的三元值, 该列的其他小格中不应该含有3/6/9;
 - `独立元`: 一个集合中的某个小格含有该集合中其他小格都不含有的数字

### 解题思路
1. 把每个空格填上1到9;
2. 检查每个集合中的一元值, 将含有多个值且含有一元值的小格去掉一元值;
3. 检查每个集合中的二元值, 找到集合中非二元值但内部含有二元值之一的小格, 去掉含有的二元值;
4. 检查每个集合中是否有小格含有独立元, 则删除这个小格中所有非独立元的数字;
5. 每次去掉数字后, 都跳到第二步重新检查, 直到没有数字可以消去;

6. 从头检查还存在多个数字的小格, 找到存在数字量大于1的最小的小格, 随机删掉一个数, 然后跳到第二步执行检查, 例如发现小格a中还存在3个数, 且所有小格都存在1个数或大于三个数. 将小格a中删掉两个数字, 跳到第二步继续检查. 如果检查出错, 回复到瞎蒙前的状态, 如果检查到第四步的状况, 即没有可以消去的小格, 则选择下一个多值小格继续蒙; (此步骤目前为人工点击小格中的按钮进行瞎蒙, 点击回退按钮回退到蒙错前的状态)

7. 最终发现正确结果;


### 如何运行

1. 安装依赖
```
npm i
```
2. 运行
```
npm start
```

### 按钮说明
- `Set Initial State`: 填入题设的数字(写死的)
- `Fill Numbers`: 填入所有可能的答案
- `Quick Init`: 设置数独的数字(目前是写死的), 并填入所有可能的值 (即 `Set Initial State` + `Fill Numbers`)
- `Check`: 检查是否可以消去数字并消去
- `Back`: 恢复到上一步的状态
- `小格里的数字按钮`: 点击该数字, 即把该数字从此小格的备选答案中去掉


### 效率
现在弄了两个写死的数独. 一个中级, 一个骨灰级. 中级的数独可以实现一次自动检测运算直接算出结果, 骨灰级的数独可以实现一次初步检测运算加几次(5次左右)人工点击的瞎蒙最终找到结果.
